---
import { getMerchantServices } from '@acme/db-api';
import { ctx } from '~/ctx';
import Card from './Card.astro';

interface Props {
    merchant_id: number;
}

const { merchant_id } = Astro.props;

const services = await getMerchantServices({ merchant_id, ctx });
---

<ul role='list' class='link-card-grid'>
    {
        services.map(service => (
            <Card
                href='https://docs.astro.build/'
                title={service.name}
                body={service.description ?? ``}
            />
        ))
    }
</ul>

<style>
    .link-card-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(24ch, 1fr));
        gap: 2rem;
        padding: 0;
    }
</style>
